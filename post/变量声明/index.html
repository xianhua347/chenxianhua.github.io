<!doctype html>
<html lang="zh-CN">
  <head>
    <title>变量声明 // 小菜鸟博客</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.81.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://xianhua347/blog/css/main.scss" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="变量声明"/>
<meta name="twitter:description" content="var、let、const 的区别 1、var 声明的变量会挂载在 window 对象上，而 let 和 const 声明的变量不会 举例：
var a = &#39;我是a&#39;; console.log(a); // 打印结果：我是a console.log(window.a); // 打印结果：我是a let b = &#39;我是b&#39;; console.log(b); // 打印结果：我是b console.log(window.b); // 打印结果：undefined let c = &#39;我是c&#39;; console.log(c); // 打印结果：我是c console.log(window.b); // 打印结果：undefined var 的这一特性，会造成 window 全局变量的污染。举例如下：
var innerHeight = 100; console.log(window.innerHeight); // 打印结果：永远都是100 ==&gt; 会覆盖 window 自带的 innerHeight 属性 2、var 声明的变量存在变量提升，let 和 const 声明的变量不存在变量提升 举例：(先使用，再声明)
console.log(a); // 打印结果：undefined ==&gt; a已经声明但没有赋值 var a = &#39;我是a&#39;; console."/>

    <meta property="og:title" content="变量声明" />
<meta property="og:description" content="var、let、const 的区别 1、var 声明的变量会挂载在 window 对象上，而 let 和 const 声明的变量不会 举例：
var a = &#39;我是a&#39;; console.log(a); // 打印结果：我是a console.log(window.a); // 打印结果：我是a let b = &#39;我是b&#39;; console.log(b); // 打印结果：我是b console.log(window.b); // 打印结果：undefined let c = &#39;我是c&#39;; console.log(c); // 打印结果：我是c console.log(window.b); // 打印结果：undefined var 的这一特性，会造成 window 全局变量的污染。举例如下：
var innerHeight = 100; console.log(window.innerHeight); // 打印结果：永远都是100 ==&gt; 会覆盖 window 自带的 innerHeight 属性 2、var 声明的变量存在变量提升，let 和 const 声明的变量不存在变量提升 举例：(先使用，再声明)
console.log(a); // 打印结果：undefined ==&gt; a已经声明但没有赋值 var a = &#39;我是a&#39;; console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://xianhua347/blog/post/%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-03-02T14:58:17&#43;08:00" />
<meta property="article:modified_time" content="2021-03-02T14:58:17&#43;08:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://xianhua347/blog"><img class="app-header-avatar" src="/blog/avatar.jpg" alt="John Doe" /></a>
      <h1>小菜鸟博客</h1>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vehicula turpis sit amet elit pretium.</p>
      <div class="app-header-social">
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">变量声明</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Mar 2, 2021
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          2 min read
        </div>
      </div>
    </header>
    <div class="post-content">
      <h2 id="varletconst-的区别">var、let、const 的区别</h2>
<h3 id="1var-声明的变量会挂载在-window-对象上而-let-和-const-声明的变量不会">1、var 声明的变量会挂载在 window 对象上，而 let 和 const 声明的变量不会</h3>
<p>举例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是a&#39;</span>;
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">a</span>); <span style="color:#75715e">// 打印结果：我是a
</span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(window.<span style="color:#a6e22e">a</span>); <span style="color:#75715e">// 打印结果：我是a
</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是b&#39;</span>;
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">b</span>); <span style="color:#75715e">// 打印结果：我是b
</span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(window.<span style="color:#a6e22e">b</span>); <span style="color:#75715e">// 打印结果：undefined
</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是c&#39;</span>;
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">c</span>); <span style="color:#75715e">// 打印结果：我是c
</span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(window.<span style="color:#a6e22e">b</span>); <span style="color:#75715e">// 打印结果：undefined
</span></code></pre></div><p>var 的这一特性，会造成 window 全局变量的污染。举例如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">innerHeight</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(window.<span style="color:#a6e22e">innerHeight</span>); <span style="color:#75715e">// 打印结果：永远都是100  ==&gt; 会覆盖 window 自带的 innerHeight 属性
</span></code></pre></div><h3 id="2var-声明的变量存在变量提升let-和-const-声明的变量不存在变量提升">2、var 声明的变量存在变量提升，let 和 const 声明的变量不存在变量提升</h3>
<p>举例：(先使用，再声明)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">a</span>); <span style="color:#75715e">// 打印结果：undefined ==&gt; a已经声明但没有赋值
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是a&#39;</span>;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">b</span>); <span style="color:#75715e">// 报错：Uncaught ReferenceError: Cannot access &#39;b&#39; before initialization ==&gt; 找不到b这个变量
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是b&#39;</span>;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">c</span>); <span style="color:#75715e">// 报错：Uncaught ReferenceError: Cannot access &#39;c&#39; before initialization ==&gt; 找不到c这个变量
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是c&#39;</span>;
</code></pre></div><h3 id="3var-声明不存在块级作用域let-和-const-声明存在块级作用域">3、var 声明不存在块级作用域，let 和 const 声明存在块级作用域</h3>
<p>举例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">{
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是a&#39;</span>;
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是b&#39;</span>;
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是c&#39;</span>;
}

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">a</span>); <span style="color:#75715e">// 我是a
</span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">b</span>); <span style="color:#75715e">// 报错：Uncaught ReferenceError: b is not defined ==&gt; 找不到b这个变量
</span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">c</span>); <span style="color:#75715e">// 报错：Uncaught ReferenceError: c is not defined ==&gt; 找不到c这个变量
</span></code></pre></div><p>报错是因为找不到 b 和 c 这两个变量。</p>
<h3 id="4同一作用域下var-可以重复声明变量let-和-const-不能重复声明变量">4、同一作用域下，var 可以重复声明变量，let 和 const 不能重复声明变量</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是a&#39;</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;qianguyihao&#39;</span>;
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">a</span>); <span style="color:#75715e">// 打印结果：qianguyihao
</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是b&#39;</span>;
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;qianguyihao&#39;</span>;
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">b</span>); <span style="color:#75715e">//报错：Uncaught SyntaxError: Identifier &#39;b&#39; has already been declared  ==&gt; 变量 b 已经被声明了
</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是c&#39;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;qianguyihao&#39;</span>;
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">c</span>); <span style="color:#75715e">//报错：Uncaught SyntaxError: Identifier &#39;c&#39; has already been declared  ==&gt; 变量 c 已经被声明了
</span></code></pre></div><p>备注：通过第3、第4点可以看出：使用 let/const 声明的变量，不会造成全局污染。</p>
<h3 id="5let-和-const-的暂时性死区dtc">5、let 和 const 的暂时性死区（DTC）</h3>
<p><strong>举例 1</strong>：（表现正常）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;qianguyihao&#39;</span>;

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">foo</span>() {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">name</span>);
}

<span style="color:#a6e22e">foo</span>(); <span style="color:#75715e">// 执行函数后，打印结果：smyhvae
</span></code></pre></div><p>上方例子中， 变量 name 被声明在函数外部，此时函数内部可以直接使用。</p>
<p><strong>举例 2</strong>：（报错）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;qianguyihao&#39;</span>;

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">foo</span>() {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">name</span>);
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;hello&#39;</span>;
}

<span style="color:#a6e22e">foo</span>(); <span style="color:#75715e">// 执行函数后，控制台报错：Uncaught ReferenceError: Cannot access &#39;name&#39; before initialization
</span></code></pre></div><p>代码解释：如果在当前块级作用域中使用了变量 name，并且当前块级作用域中通过 let/const 声明了这个变量，那么，<strong>声明语句必须放在使用之前，也就是所谓的 DTC（暂时性死区）</strong>。DTC 其实是一种保护机制，可以让我们养成良好的编程习惯。</p>
<p>关于”暂时性死区“的更多介绍，详本项目的另一篇文章《JavaScript之ES6语法：变量let、const和块级作用域.md》。</p>
<h3 id="6const一旦声明必须赋值声明后不能再修改">6、const：一旦声明必须赋值；声明后不能再修改</h3>
<p>一旦声明必须赋值：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">a</span>;
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">a</span>); <span style="color:#75715e">// 报错：Uncaught SyntaxError: Missing initializer in const declaration
</span></code></pre></div><h3 id="总结">总结</h3>
<p>基于上面的种种区别，我们可以知道：var 声明的变量，很容易造成全局污染。以后我们尽量使用 let 和 const 声明变量吧。</p>
<h2 id="const-常量到底能不能被修改">const 常量到底能不能被修改</h2>
<p>我们知道：用 const 声明的变量无法被修改。但还有一点，我们一定要记住：</p>
<ul>
<li>
<p>如果用 const 声明基本数据类型，则无法被修改；</p>
</li>
<li>
<p>如果用 const 声明引用数据类型（即“对象”），这里的“无法被修改”指的是<strong>不能改变内存地址的引用</strong>；但对象里的内容是可以被修改的。</p>
</li>
</ul>
<p>举例 1：（不能修改）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;qianguyihao&#39;</span>;
<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;vae&#39;</span>; <span style="color:#75715e">// 因为无法被修改，所以报错：Uncaught TypeError: Assignment to constant variable
</span></code></pre></div><p>举例 2：（不能修改）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;qianguyihao&#39;</span>,
    <span style="color:#a6e22e">age</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">28</span>,
};

<span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;vae&#39;</span> }; <span style="color:#75715e">// 因为无法被修改，所以报错：Uncaught TypeError: Assignment to constant variable
</span></code></pre></div><p>举例 3：（可以修改）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;qianguyihao&#39;</span>,
    <span style="color:#a6e22e">age</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">28</span>,
};
<span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;vae&#39;</span>; <span style="color:#75715e">// 对象里的 name 属性可以被修改
</span></code></pre></div><h2 id="传值和传址的区别">传值和传址的区别</h2>
<p>详见《JavaScript基础/对象简介.md》。</p>
<h2 id="for-循环的经典案例">for 循环的经典案例</h2>
<p>详见《JavaScript之ES6语法：变量let、const和块级作用域.md》。</p>
<h2 id="参考链接">参考链接</h2>
<ul>
<li><a href="https://juejin.im/post/5e49249be51d4526e651b654">JS 中 var、let、const 区别</a></li>
</ul>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
